<div class="portfolio">
    <h1 class="ui header">Portfolio</h1>

   <!--For each category-->
   <div class="ui stackable grid">
       <div class="three wide column floated right">
           <h3 class="ui header" style="margin-top: 1em; margin-bottom: -.5em;">Categories <a href="#/portfolio" ng-show="'' | tagSet">[X]</a></h3>
           <ul>
               <li ng-repeat="category in data">
                   <a href="#/portfolio?category={{category.name|encodeUri}}" class="{{ [category.name, 'category'] | isSelected }}">{{ category.name }}</a>
                   <ul>
                       <li ng-repeat="subcategory in category.data"><a href="#/portfolio?subcategory={{subcategory.name|encodeUri}}" class="{{ [subcategory.name, 'subcategory'] | isSelected }}">{{ subcategory.name }}</a></li>
                   </ul>
               </li>
           </ul>
       </div>
       <div class="thirteen wide column floated left">
           <div ng-repeat="category in data | portfolioCategoryFilter">

               <!--Category name-->
               <h2 class="ui header" style="margin: 0 0 .5em 0; font-weight: 500; font-size: 1.9rem">{{ category.name
                   }}</h2>

               <!--if subcategory exists-->
               <div class="subcategory" ng-repeat="subcategory in category.data | portfolioSubcategoryFilter"> <!--ng-if="category.data[0].type == 'subcategory'"-->

                   <div class="row">
                       <div class="column">
                           <h2 style="font-style: italic; margin-top: .5em; font-weight: 200;" class="ui header">
                               {{subcategory.name}}</h2>
                       </div>
                   </div>

                   <div ng-repeat="item in subcategory.data" class="ui stackable grid portfolio-item">

                       <div class="seven wide column">
                           <h3 class="ui header"><a href="{{item.link}}">{{ item.name }}</a></h3>
                           <h4 style="font-style: italic;">{{ item.dateStarted ? item.dateStarted + ' -' : ''}} {{
                               item.dateCompleted }}</h4>

                           <div ng-bind-html="item.description | toMarkdown" class="item-description"></div>
                       </div>
                       <div class="nine wide column">
                           <a href="{{item.link}}">
                               <div class="img" ng-if="item.picture"
                                    style="background-image: url('img/portfolio/{{ item.picture }}')">
                                   <!--<img ng-src="img/portfolio/{{ item.picture }}" alt="" class="img-left"/>-->
                               </div>
                           </a>
                       </div>

                   </div>

               </div>

               <!--otherwise, get straight into items-->
               <!--<div class="ui two column doubling grid portfolio-item" ng-repeat="item in category.data"-->
                    <!--ng-if="category.data[0].type == 'item'">-->
                   <!--<div class="column">-->
                       <!--<h3 class="ui header"><a href="{{item.link}}">{{ item.name }}</a></h3>-->
                       <!--<h4 style="font-style: italic;">{{ item.dateStarted ? item.dateStarted + ' -' : ''}} {{-->
                           <!--item.dateCompleted }}</h4>-->

                       <!--<div ng-bind-html="item.description | toMarkdown" class="item-description"></div>-->
                   <!--</div>-->
                   <!--<div class="column">-->
                       <!--<a href="{{item.link}}">-->
                           <!--<div class="img" ng-if="item.picture"-->
                                <!--style="background-image: url('img/portfolio/{{ item.picture }}')">-->
                               <!--&lt;!&ndash;<img ng-src="img/portfolio/{{ item.picture }}" alt="" class="img-left"/>&ndash;&gt;-->
                           <!--</div>-->
                       <!--</a>-->
                   <!--</div>-->
               <!--</div>-->

           </div>
       </div>

   </div>
</div>